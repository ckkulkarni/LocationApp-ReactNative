{"version":3,"names":["_interopRequireDefault","require","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","Object","defineProperty","exports","value","react_native_1","AnimatedWithChildren","getPrototypeOf","Animated","ValueXY","__DEV__","name","console","error","configTypes","defaultValues","latitude","longitude","latitudeDelta","longitudeDelta","_uniqueId","getAnimatedValue","valueIn","fallback","Value","AnimatedMapRegion","_AnimatedWithChildren","_super","_this","length","undefined","_regionListeners","key","setValue","_value","setOffset","offset","flattenOffset","__getValue","__attach","__addChild","__detach","__removeChild","stopAnimation","callback","addListener","_this2","id","String","jointCallback","removeListener","spring","config","animations","type","hasOwnProperty","push","assign","toValue","useNativeDriver","parallel","timing"],"sources":["AnimatedRegion.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_native_1 = require(\"react-native\");\nconst AnimatedWithChildren = Object.getPrototypeOf(react_native_1.Animated.ValueXY);\nif (__DEV__) {\n    if (AnimatedWithChildren.name !== 'AnimatedWithChildren') {\n        console.error('AnimatedRegion could not obtain AnimatedWithChildren base class');\n    }\n}\nconst configTypes = [\n    'latitude',\n    'longitude',\n    'latitudeDelta',\n    'longitudeDelta',\n];\nconst defaultValues = {\n    // probably want to come up with better defaults\n    latitude: 0,\n    longitude: 0,\n    latitudeDelta: 0,\n    longitudeDelta: 0,\n};\nlet _uniqueId = 1;\nconst getAnimatedValue = (valueIn, fallback) => {\n    if (valueIn instanceof react_native_1.Animated.Value) {\n        return valueIn;\n    }\n    else if (typeof valueIn === 'number') {\n        return new react_native_1.Animated.Value(valueIn);\n    }\n    return new react_native_1.Animated.Value(fallback);\n};\nclass AnimatedMapRegion extends AnimatedWithChildren {\n    constructor(valueIn = {}) {\n        super();\n        this.latitude = getAnimatedValue(valueIn.latitude, defaultValues.latitude);\n        this.longitude = getAnimatedValue(valueIn.longitude, defaultValues.longitude);\n        this.latitudeDelta = getAnimatedValue(valueIn.latitudeDelta, defaultValues.latitudeDelta);\n        this.longitudeDelta = getAnimatedValue(valueIn.longitudeDelta, defaultValues.longitudeDelta);\n        this._regionListeners = {};\n    }\n    setValue(value) {\n        this.latitude._value = value.latitude;\n        this.longitude._value = value.longitude;\n        this.latitudeDelta._value = value.latitudeDelta;\n        this.longitudeDelta._value = value.longitudeDelta;\n    }\n    setOffset(offset) {\n        this.latitude.setOffset(offset.latitude);\n        this.longitude.setOffset(offset.longitude);\n        this.latitudeDelta.setOffset(offset.latitudeDelta);\n        this.longitudeDelta.setOffset(offset.longitudeDelta);\n    }\n    flattenOffset() {\n        this.latitude.flattenOffset();\n        this.longitude.flattenOffset();\n        this.latitudeDelta.flattenOffset();\n        this.longitudeDelta.flattenOffset();\n    }\n    __getValue() {\n        return {\n            latitude: this.latitude.__getValue(),\n            longitude: this.longitude.__getValue(),\n            latitudeDelta: this.latitudeDelta.__getValue(),\n            longitudeDelta: this.longitudeDelta.__getValue(),\n        };\n    }\n    __attach() {\n        this.latitude.__addChild(this);\n        this.longitude.__addChild(this);\n        this.latitudeDelta.__addChild(this);\n        this.longitudeDelta.__addChild(this);\n    }\n    __detach() {\n        this.latitude.__removeChild(this);\n        this.longitude.__removeChild(this);\n        this.latitudeDelta.__removeChild(this);\n        this.longitudeDelta.__removeChild(this);\n    }\n    stopAnimation(callback) {\n        this.latitude.stopAnimation();\n        this.longitude.stopAnimation();\n        this.latitudeDelta.stopAnimation();\n        this.longitudeDelta.stopAnimation();\n        callback && callback(this.__getValue());\n    }\n    addListener(callback) {\n        const id = String(_uniqueId++);\n        const jointCallback = () => /*{value}*/ callback(this.__getValue());\n        this._regionListeners[id] = {\n            latitude: this.latitude.addListener(jointCallback),\n            longitude: this.longitude.addListener(jointCallback),\n            latitudeDelta: this.latitudeDelta.addListener(jointCallback),\n            longitudeDelta: this.longitudeDelta.addListener(jointCallback),\n        };\n        return id;\n    }\n    removeListener(id) {\n        this.latitude.removeListener(this._regionListeners[id].latitude);\n        this.longitude.removeListener(this._regionListeners[id].longitude);\n        this.latitudeDelta.removeListener(this._regionListeners[id].latitudeDelta);\n        this.longitudeDelta.removeListener(this._regionListeners[id].longitudeDelta);\n        delete this._regionListeners[id];\n    }\n    spring(config) {\n        const animations = [];\n        for (const type of configTypes) {\n            if (config.hasOwnProperty(type)) {\n                animations.push(react_native_1.Animated.spring(this[type], {\n                    ...config,\n                    toValue: config[type],\n                    // may help to eliminate some dev warnings and perf issues\n                    useNativeDriver: !!config?.useNativeDriver,\n                }));\n            }\n        }\n        return react_native_1.Animated.parallel(animations);\n    }\n    timing(config) {\n        const animations = [];\n        for (const type of configTypes) {\n            if (config.hasOwnProperty(type)) {\n                animations.push(react_native_1.Animated.timing(this[type], {\n                    ...config,\n                    toValue: config[type],\n                    // may help to eliminate some dev warnings and perf issues\n                    useNativeDriver: !!config?.useNativeDriver,\n                }));\n            }\n        }\n        return react_native_1.Animated.parallel(animations);\n    }\n}\nexports.default = AnimatedMapRegion;\n"],"mappings":"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"}