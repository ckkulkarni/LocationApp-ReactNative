39060c4f33c5d3aa84946b440cd302ba
_getJestObj().mock('react-redux', function () {
  return {
    useDispatch: jest.fn()
  };
});
_getJestObj().mock('react-native-geolocation-service', function () {
  return {
    getCurrentPosition: jest.fn(function (success) {
      var location = {
        coords: {
          latitude: 17.3920466,
          longitude: 78.4758037
        }
      };
      success(location);
    })
  };
});
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn().mockReturnValue({
      navigate: jest.fn()
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _Base = _interopRequireDefault(require("../Base"));
var _reactNative = require("@testing-library/react-native");
var _react = _interopRequireDefault(require("react"));
var _reactNativeGeolocationService = _interopRequireDefault(require("react-native-geolocation-service"));
var _reactRedux = require("react-redux");
var _native = require("@react-navigation/native");
require("@testing-library/jest-dom");
var _reactNative2 = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var timestamp = new Date(Date.now()).toLocaleString([], {
  year: 'numeric',
  month: 'numeric',
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit'
});
var navigation = (0, _native.useNavigation)();
describe('Locations List Screen/Base Component', function () {
  var latitude;
  var longitude;
  var mockDispatch = jest.fn();
  var useDispatchMock;
  var fetchMock = jest.fn();
  global.fetch = fetchMock;
  beforeAll((0, _asyncToGenerator2.default)(function* () {
    yield new Promise(function (resolve) {
      _reactNativeGeolocationService.default.getCurrentPosition(function (position) {
        latitude = position.coords.latitude;
        longitude = position.coords.longitude;
        resolve();
      });
    });
  }));
  var mockResponse = {
    results: [{
      formatted: '123 Main St, Anytown USA'
    }]
  };
  global.fetch = jest.fn().mockResolvedValue({
    json: function json() {
      return Promise.resolve(mockResponse);
    }
  });
  beforeEach(function () {
    fetchMock.mockReset();
    useDispatchMock = _reactRedux.useDispatch;
    useDispatchMock.mockReturnValue(mockDispatch);
  });
  it('renders the base component correctly', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {}));
    var currentLabel = _reactNative.screen.getByTestId('list-current-label');
    expect(currentLabel.props.children).toBe('Current Location');
  });
  it('should have the right location', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {}));
    expect(_reactNativeGeolocationService.default.getCurrentPosition).toHaveBeenCalled();
  });
  it('renders the current location time', (0, _asyncToGenerator2.default)(function* () {
    var currentLocation = {
      address: 'unnamed road',
      time: timestamp,
      latitude: 42.123456,
      longitude: -71.123456
    };
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render.getByTestId;
    var currentLocationTime = yield (0, _reactNative.waitFor)(function () {
      return getByTestId('list-current-time');
    });
    expect(currentLocationTime.props.children).toBe(currentLocation.time);
  }));
  test('displays current location', (0, _asyncToGenerator2.default)(function* () {
    var mockResponse = {
      results: [{
        formatted: '123 Main St, Anytown USA'
      }]
    };
    global.fetch = jest.fn().mockResolvedValue({
      json: function json() {
        return Promise.resolve(mockResponse);
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render2.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      var currentLocationName = getByTestId('list-current-name');
      expect(currentLocationName.props.children).toBe('123 Main St, Anytown USA');
    });
  }));
  it('renders the whole location item correctly', (0, _asyncToGenerator2.default)(function* () {
    var currentLocation = {
      address: '123 Main St, Anytown USA',
      time: timestamp,
      latitude: latitude,
      longitude: longitude
    };
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render3.getByTestId;
    var currentLocationItem = yield (0, _reactNative.waitFor)(function () {
      return getByTestId('list-current-item');
    });
    _reactNative.fireEvent.press(currentLocationItem);
    expect(navigation.navigate).toHaveBeenCalledWith('Map', {
      address: currentLocation
    });
  }));
  it('clears all locations on button press', (0, _asyncToGenerator2.default)(function* () {
    var clearAllLocations = jest.fn();
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactNative2.Button, {
        title: "Clear All Locations",
        onPress: clearAllLocations,
        testID: "list-clear-all-button"
      })),
      getByTestId = _render4.getByTestId;
    var clearAllButton = yield (0, _reactNative.waitFor)(function () {
      return getByTestId('list-clear-all-button');
    });
    _reactNative.fireEvent.press(clearAllButton);
    expect(clearAllLocations).toHaveBeenCalled();
  }));
  it('should display previous location name after 5 minutes', (0, _asyncToGenerator2.default)(function* () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      queryByTestId = _render5.queryByTestId,
      getByTestId = _render5.getByTestId;
    var Location = {
      address: '123 Main St, Anytown USA',
      time: timestamp,
      latitude: latitude,
      longitude: longitude
    };
    var locationsList = [Location, Location, Location];
    yield (0, _reactNative.waitFor)(function () {
      locationsList.forEach(function (location, index) {
        expect(getByTestId("list-previous-name-" + index).props.children).toBe(location.address);
      });
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VEaXNwYXRjaCIsImplc3QiLCJmbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInN1Y2Nlc3MiLCJsb2NhdGlvbiIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwidXNlTmF2aWdhdGlvbiIsIm1vY2tSZXR1cm5WYWx1ZSIsIm5hdmlnYXRlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfQmFzZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZUdlb2xvY2F0aW9uU2VydmljZSIsIl9yZWFjdFJlZHV4IiwiX25hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInRvTG9jYWxlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsIm5hdmlnYXRpb24iLCJkZXNjcmliZSIsIm1vY2tEaXNwYXRjaCIsInVzZURpc3BhdGNoTW9jayIsImZldGNoTW9jayIsImdsb2JhbCIsImZldGNoIiwiYmVmb3JlQWxsIiwiZGVmYXVsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiR2VvbG9jYXRpb24iLCJwb3NpdGlvbiIsIm1vY2tSZXNwb25zZSIsInJlc3VsdHMiLCJmb3JtYXR0ZWQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImpzb24iLCJiZWZvcmVFYWNoIiwibW9ja1Jlc2V0IiwiaXQiLCJyZW5kZXIiLCJqc3giLCJjdXJyZW50TGFiZWwiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsImV4cGVjdCIsInByb3BzIiwiY2hpbGRyZW4iLCJ0b0JlIiwidG9IYXZlQmVlbkNhbGxlZCIsImN1cnJlbnRMb2NhdGlvbiIsImFkZHJlc3MiLCJ0aW1lIiwiX3JlbmRlciIsImN1cnJlbnRMb2NhdGlvblRpbWUiLCJ3YWl0Rm9yIiwidGVzdCIsIl9yZW5kZXIyIiwiY3VycmVudExvY2F0aW9uTmFtZSIsIl9yZW5kZXIzIiwiY3VycmVudExvY2F0aW9uSXRlbSIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJjbGVhckFsbExvY2F0aW9ucyIsIl9yZW5kZXI0IiwiQnV0dG9uIiwidGl0bGUiLCJvblByZXNzIiwidGVzdElEIiwiY2xlYXJBbGxCdXR0b24iLCJfcmVuZGVyNSIsInF1ZXJ5QnlUZXN0SWQiLCJMb2NhdGlvbiIsImxvY2F0aW9uc0xpc3QiLCJmb3JFYWNoIiwiaW5kZXgiXSwic291cmNlcyI6WyJCYXNlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlIGZyb20gJy4uL0Jhc2UnO1xyXG5pbXBvcnQge1xyXG4gIHJlbmRlcixcclxuICBmaXJlRXZlbnQsXHJcbiAgc2NyZWVuLFxyXG4gIHdhaXRGb3IsXHJcbn0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgZmV0Y2hNb2NrIGZyb20gJ2plc3QtZmV0Y2gtbW9jayc7XHJcbmltcG9ydCBHZW9sb2NhdGlvbiBmcm9tICdyZWFjdC1uYXRpdmUtZ2VvbG9jYXRpb24tc2VydmljZSc7XHJcbmltcG9ydCB7dXNlRGlzcGF0Y2h9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHtOYXRpdmVTdGFja05hdmlnYXRpb25Qcm9wfSBmcm9tICdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUtc3RhY2snO1xyXG5pbXBvcnQge3VzZU5hdmlnYXRpb259IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZSc7XHJcbmltcG9ydCAnQHRlc3RpbmctbGlicmFyeS9qZXN0LWRvbSc7XHJcbmltcG9ydCB7QnV0dG9ufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xyXG5kZWNsYXJlIHZhciBnbG9iYWw6IGFueTtcclxuamVzdC5tb2NrKCdyZWFjdC1yZWR1eCcsICgpID0+ICh7XHJcbiAgdXNlRGlzcGF0Y2g6IGplc3QuZm4oKSxcclxufSkpO1xyXG5jb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0xvY2FsZVN0cmluZyhbXSwge1xyXG4gIHllYXI6ICdudW1lcmljJyxcclxuICBtb250aDogJ251bWVyaWMnLFxyXG4gIGRheTogJ251bWVyaWMnLFxyXG4gIGhvdXI6ICcyLWRpZ2l0JyxcclxuICBtaW51dGU6ICcyLWRpZ2l0JyxcclxufSk7XHJcbmNvbnN0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uPE5hdGl2ZVN0YWNrTmF2aWdhdGlvblByb3A8YW55Pj4oKTtcclxuamVzdC5tb2NrKCdyZWFjdC1uYXRpdmUtZ2VvbG9jYXRpb24tc2VydmljZScsICgpID0+IHtcclxuICByZXR1cm4ge1xyXG4gICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBqZXN0LmZuKHN1Y2Nlc3MgPT4ge1xyXG4gICAgICBjb25zdCBsb2NhdGlvbiA9IHtcclxuICAgICAgICBjb29yZHM6IHtcclxuICAgICAgICAgIGxhdGl0dWRlOiAxNy4zOTIwNDY2LFxyXG4gICAgICAgICAgbG9uZ2l0dWRlOiA3OC40NzU4MDM3LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH07XHJcbiAgICAgIHN1Y2Nlc3MobG9jYXRpb24pO1xyXG4gICAgfSksXHJcbiAgfTtcclxufSk7XHJcbmplc3QubW9jaygnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJywgKCkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICB1c2VOYXZpZ2F0aW9uOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgbmF2aWdhdGU6IGplc3QuZm4oKSxcclxuICAgIH0pLFxyXG4gIH07XHJcbn0pO1xyXG5cclxuZGVzY3JpYmUoJ0xvY2F0aW9ucyBMaXN0IFNjcmVlbi9CYXNlIENvbXBvbmVudCcsICgpID0+IHtcclxuICBsZXQgbGF0aXR1ZGU6IG51bWJlcjtcclxuICBsZXQgbG9uZ2l0dWRlOiBudW1iZXI7XHJcbiAgY29uc3QgbW9ja0Rpc3BhdGNoID0gamVzdC5mbigpO1xyXG4gIGxldCB1c2VEaXNwYXRjaE1vY2s6IGplc3QuTW9jaztcclxuICBjb25zdCBmZXRjaE1vY2sgPSBqZXN0LmZuKCk7XHJcbiAgZ2xvYmFsLmZldGNoID0gZmV0Y2hNb2NrO1xyXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XHJcbiAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPihyZXNvbHZlID0+IHtcclxuICAgICAgR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHBvc2l0aW9uID0+IHtcclxuICAgICAgICBsYXRpdHVkZSA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcclxuICAgICAgICBsb25naXR1ZGUgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XHJcbiAgICByZXN1bHRzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBmb3JtYXR0ZWQ6ICcxMjMgTWFpbiBTdCwgQW55dG93biBVU0EnLFxyXG4gICAgICB9LFxyXG4gICAgXSxcclxuICB9O1xyXG4gIGdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobW9ja1Jlc3BvbnNlKSxcclxuICB9KTtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGZldGNoTW9jay5tb2NrUmVzZXQoKTtcclxuICAgIHVzZURpc3BhdGNoTW9jayA9IHVzZURpc3BhdGNoIGFzIGplc3QuTW9jaztcclxuICAgIHVzZURpc3BhdGNoTW9jay5tb2NrUmV0dXJuVmFsdWUobW9ja0Rpc3BhdGNoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3JlbmRlcnMgdGhlIGJhc2UgY29tcG9uZW50IGNvcnJlY3RseScsICgpID0+IHtcclxuICAgIHJlbmRlcig8QmFzZSAvPik7XHJcbiAgICBjb25zdCBjdXJyZW50TGFiZWwgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoJ2xpc3QtY3VycmVudC1sYWJlbCcpO1xyXG4gICAgZXhwZWN0KGN1cnJlbnRMYWJlbC5wcm9wcy5jaGlsZHJlbikudG9CZSgnQ3VycmVudCBMb2NhdGlvbicpO1xyXG4gIH0pO1xyXG4gIGl0KCdzaG91bGQgaGF2ZSB0aGUgcmlnaHQgbG9jYXRpb24nLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPEJhc2UgLz4pO1xyXG4gICAgZXhwZWN0KEdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbikudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG4gIGl0KCdyZW5kZXJzIHRoZSBjdXJyZW50IGxvY2F0aW9uIHRpbWUnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB7XHJcbiAgICAgIGFkZHJlc3M6ICd1bm5hbWVkIHJvYWQnLFxyXG4gICAgICB0aW1lOiB0aW1lc3RhbXAsXHJcbiAgICAgIGxhdGl0dWRlOiA0Mi4xMjM0NTYsXHJcbiAgICAgIGxvbmdpdHVkZTogLTcxLjEyMzQ1NixcclxuICAgIH07XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWR9ID0gcmVuZGVyKDxCYXNlIC8+KTtcclxuICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvblRpbWUgPSBhd2FpdCB3YWl0Rm9yKCgpID0+XHJcbiAgICAgIGdldEJ5VGVzdElkKCdsaXN0LWN1cnJlbnQtdGltZScpLFxyXG4gICAgKTtcclxuICAgIGV4cGVjdChjdXJyZW50TG9jYXRpb25UaW1lLnByb3BzLmNoaWxkcmVuKS50b0JlKGN1cnJlbnRMb2NhdGlvbi50aW1lKTtcclxuICB9KTtcclxuICB0ZXN0KCdkaXNwbGF5cyBjdXJyZW50IGxvY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xyXG4gICAgICByZXN1bHRzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgZm9ybWF0dGVkOiAnMTIzIE1haW4gU3QsIEFueXRvd24gVVNBJyxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgfTtcclxuICAgIGdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XHJcbiAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrUmVzcG9uc2UpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qge2dldEJ5VGVzdElkfSA9IHJlbmRlcig8QmFzZSAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbk5hbWUgPSBnZXRCeVRlc3RJZCgnbGlzdC1jdXJyZW50LW5hbWUnKTtcclxuICAgICAgZXhwZWN0KGN1cnJlbnRMb2NhdGlvbk5hbWUucHJvcHMuY2hpbGRyZW4pLnRvQmUoXHJcbiAgICAgICAgJzEyMyBNYWluIFN0LCBBbnl0b3duIFVTQScsXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBpdCgncmVuZGVycyB0aGUgd2hvbGUgbG9jYXRpb24gaXRlbSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB7XHJcbiAgICAgIGFkZHJlc3M6ICcxMjMgTWFpbiBTdCwgQW55dG93biBVU0EnLFxyXG4gICAgICB0aW1lOiB0aW1lc3RhbXAsXHJcbiAgICAgIGxhdGl0dWRlLFxyXG4gICAgICBsb25naXR1ZGUsXHJcbiAgICB9O1xyXG4gICAgY29uc3Qge2dldEJ5VGVzdElkfSA9IHJlbmRlcig8QmFzZSAvPik7XHJcbiAgICBjb25zdCBjdXJyZW50TG9jYXRpb25JdGVtID0gYXdhaXQgd2FpdEZvcigoKSA9PlxyXG4gICAgICBnZXRCeVRlc3RJZCgnbGlzdC1jdXJyZW50LWl0ZW0nKSxcclxuICAgICk7XHJcbiAgICBmaXJlRXZlbnQucHJlc3MoY3VycmVudExvY2F0aW9uSXRlbSk7XHJcbiAgICBleHBlY3QobmF2aWdhdGlvbi5uYXZpZ2F0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ01hcCcsIHtcclxuICAgICAgYWRkcmVzczogY3VycmVudExvY2F0aW9uLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgaXQoJ2NsZWFycyBhbGwgbG9jYXRpb25zIG9uIGJ1dHRvbiBwcmVzcycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGNsZWFyQWxsTG9jYXRpb25zID0gamVzdC5mbigpO1xyXG4gICAgY29uc3Qge2dldEJ5VGVzdElkfSA9IHJlbmRlcihcclxuICAgICAgPEJ1dHRvblxyXG4gICAgICAgIHRpdGxlPVwiQ2xlYXIgQWxsIExvY2F0aW9uc1wiXHJcbiAgICAgICAgb25QcmVzcz17Y2xlYXJBbGxMb2NhdGlvbnN9XHJcbiAgICAgICAgdGVzdElEPVwibGlzdC1jbGVhci1hbGwtYnV0dG9uXCJcclxuICAgICAgLz4sXHJcbiAgICApO1xyXG4gICAgY29uc3QgY2xlYXJBbGxCdXR0b24gPSBhd2FpdCB3YWl0Rm9yKCgpID0+XHJcbiAgICAgIGdldEJ5VGVzdElkKCdsaXN0LWNsZWFyLWFsbC1idXR0b24nKSxcclxuICAgICk7XHJcbiAgICBmaXJlRXZlbnQucHJlc3MoY2xlYXJBbGxCdXR0b24pO1xyXG4gICAgZXhwZWN0KGNsZWFyQWxsTG9jYXRpb25zKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSk7XHJcbiAgaXQoJ3Nob3VsZCBkaXNwbGF5IHByZXZpb3VzIGxvY2F0aW9uIG5hbWUgYWZ0ZXIgNSBtaW51dGVzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3Qge3F1ZXJ5QnlUZXN0SWQsIGdldEJ5VGVzdElkfSA9IHJlbmRlcig8QmFzZSAvPik7XHJcbiAgICBjb25zdCBMb2NhdGlvbiA9IHtcclxuICAgICAgYWRkcmVzczogJzEyMyBNYWluIFN0LCBBbnl0b3duIFVTQScsXHJcbiAgICAgIHRpbWU6IHRpbWVzdGFtcCxcclxuICAgICAgbGF0aXR1ZGUsXHJcbiAgICAgIGxvbmdpdHVkZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBsb2NhdGlvbnNMaXN0ID0gW0xvY2F0aW9uLCBMb2NhdGlvbiwgTG9jYXRpb25dO1xyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGxvY2F0aW9uc0xpc3QuZm9yRWFjaCgobG9jYXRpb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KGdldEJ5VGVzdElkKGBsaXN0LXByZXZpb3VzLW5hbWUtJHtpbmRleH1gKS5wcm9wcy5jaGlsZHJlbikudG9CZShcclxuICAgICAgICAgIGxvY2F0aW9uLmFkZHJlc3MsXHJcbiAgICAgICAgKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6IkFBZ0JBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxhQUFhLEVBQUU7RUFBQSxPQUFPO0lBQzlCQyxXQUFXLEVBQUVDLElBQUksQ0FBQ0MsRUFBRTtFQUN0QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBU0hKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGtDQUFrQyxFQUFFLFlBQU07RUFDbEQsT0FBTztJQUNMSSxrQkFBa0IsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsVUFBQUUsT0FBTyxFQUFJO01BQ3JDLElBQU1DLFFBQVEsR0FBRztRQUNmQyxNQUFNLEVBQUU7VUFDTkMsUUFBUSxFQUFFLFVBQVU7VUFDcEJDLFNBQVMsRUFBRTtRQUNiO01BQ0YsQ0FBQztNQUNESixPQUFPLENBQUNDLFFBQVEsQ0FBQztJQUNuQixDQUFDO0VBQ0gsQ0FBQztBQUNILENBQUMsQ0FBQztBQUNGUCxXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRSxZQUFNO0VBQzFDLE9BQU87SUFDTFUsYUFBYSxFQUFFUixJQUFJLENBQUNDLEVBQUUsRUFBRSxDQUFDUSxlQUFlLENBQUM7TUFDdkNDLFFBQVEsRUFBRVYsSUFBSSxDQUFDQyxFQUFFO0lBQ25CLENBQUM7RUFDSCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBQUMsSUFBQVUsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUE5Q0gsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsWUFBQSxHQUFBSCxPQUFBO0FBTUEsSUFBQUksTUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUssOEJBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFdBQUEsR0FBQU4sT0FBQTtBQUVBLElBQUFPLE9BQUEsR0FBQVAsT0FBQTtBQUNBQSxPQUFBO0FBQ0EsSUFBQVEsYUFBQSxHQUFBUixPQUFBO0FBQW9DLElBQUFTLFdBQUEsR0FBQVQsT0FBQTtBQUFBLFNBQUFmLFlBQUE7RUFBQSxJQUFBeUIsUUFBQSxHQUFBVixPQUFBO0lBQUFaLElBQUEsR0FBQXNCLFFBQUEsQ0FBQXRCLElBQUE7RUFBQUgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQUcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBS3BDLElBQU11QixTQUFTLEdBQUcsSUFBSUMsSUFBSSxDQUFDQSxJQUFJLENBQUNDLEdBQUcsRUFBRSxDQUFDLENBQUNDLGNBQWMsQ0FBQyxFQUFFLEVBQUU7RUFDeERDLElBQUksRUFBRSxTQUFTO0VBQ2ZDLEtBQUssRUFBRSxTQUFTO0VBQ2hCQyxHQUFHLEVBQUUsU0FBUztFQUNkQyxJQUFJLEVBQUUsU0FBUztFQUNmQyxNQUFNLEVBQUU7QUFDVixDQUFDLENBQUM7QUFDRixJQUFNQyxVQUFVLEdBQUcsSUFBQXhCLHFCQUFhLEdBQWtDO0FBc0JsRXlCLFFBQVEsQ0FBQyxzQ0FBc0MsRUFBRSxZQUFNO0VBQ3JELElBQUkzQixRQUFnQjtFQUNwQixJQUFJQyxTQUFpQjtFQUNyQixJQUFNMkIsWUFBWSxHQUFHbEMsSUFBSSxDQUFDQyxFQUFFLEVBQUU7RUFDOUIsSUFBSWtDLGVBQTBCO0VBQzlCLElBQU1DLFNBQVMsR0FBR3BDLElBQUksQ0FBQ0MsRUFBRSxFQUFFO0VBQzNCb0MsTUFBTSxDQUFDQyxLQUFLLEdBQUdGLFNBQVM7RUFDeEJHLFNBQVMsS0FBQTFCLGtCQUFBLENBQUEyQixPQUFBLEVBQUMsYUFBWTtJQUNwQixNQUFNLElBQUlDLE9BQU8sQ0FBTyxVQUFBQyxPQUFPLEVBQUk7TUFDakNDLHNDQUFXLENBQUN6QyxrQkFBa0IsQ0FBQyxVQUFBMEMsUUFBUSxFQUFJO1FBQ3pDdEMsUUFBUSxHQUFHc0MsUUFBUSxDQUFDdkMsTUFBTSxDQUFDQyxRQUFRO1FBQ25DQyxTQUFTLEdBQUdxQyxRQUFRLENBQUN2QyxNQUFNLENBQUNFLFNBQVM7UUFDckNtQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7RUFDSixDQUFDLEVBQUM7RUFDRixJQUFNRyxZQUFZLEdBQUc7SUFDbkJDLE9BQU8sRUFBRSxDQUNQO01BQ0VDLFNBQVMsRUFBRTtJQUNiLENBQUM7RUFFTCxDQUFDO0VBQ0RWLE1BQU0sQ0FBQ0MsS0FBSyxHQUFHdEMsSUFBSSxDQUFDQyxFQUFFLEVBQUUsQ0FBQytDLGlCQUFpQixDQUFDO0lBQ3pDQyxJQUFJLEVBQUUsU0FBQUEsS0FBQTtNQUFBLE9BQU1SLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDRyxZQUFZLENBQUM7SUFBQTtFQUMzQyxDQUFDLENBQUM7RUFDRkssVUFBVSxDQUFDLFlBQU07SUFDZmQsU0FBUyxDQUFDZSxTQUFTLEVBQUU7SUFDckJoQixlQUFlLEdBQUdwQyx1QkFBd0I7SUFDMUNvQyxlQUFlLENBQUMxQixlQUFlLENBQUN5QixZQUFZLENBQUM7RUFDL0MsQ0FBQyxDQUFDO0VBRUZrQixFQUFFLENBQUMsc0NBQXNDLEVBQUUsWUFBTTtJQUMvQyxJQUFBQyxtQkFBTSxFQUFDLElBQUFoQyxXQUFBLENBQUFpQyxHQUFBLEVBQUN4QyxLQUFBLENBQUEwQixPQUFJLEtBQUcsQ0FBQztJQUNoQixJQUFNZSxZQUFZLEdBQUdDLG1CQUFNLENBQUNDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQztJQUM3REMsTUFBTSxDQUFDSCxZQUFZLENBQUNJLEtBQUssQ0FBQ0MsUUFBUSxDQUFDLENBQUNDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztFQUM5RCxDQUFDLENBQUM7RUFDRlQsRUFBRSxDQUFDLGdDQUFnQyxFQUFFLFlBQU07SUFDekMsSUFBQUMsbUJBQU0sRUFBQyxJQUFBaEMsV0FBQSxDQUFBaUMsR0FBQSxFQUFDeEMsS0FBQSxDQUFBMEIsT0FBSSxLQUFHLENBQUM7SUFDaEJrQixNQUFNLENBQUNmLHNDQUFXLENBQUN6QyxrQkFBa0IsQ0FBQyxDQUFDNEQsZ0JBQWdCLEVBQUU7RUFDM0QsQ0FBQyxDQUFDO0VBQ0ZWLEVBQUUsQ0FBQyxtQ0FBbUMsTUFBQXZDLGtCQUFBLENBQUEyQixPQUFBLEVBQUUsYUFBWTtJQUNsRCxJQUFNdUIsZUFBZSxHQUFHO01BQ3RCQyxPQUFPLEVBQUUsY0FBYztNQUN2QkMsSUFBSSxFQUFFMUMsU0FBUztNQUNmakIsUUFBUSxFQUFFLFNBQVM7TUFDbkJDLFNBQVMsRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNELElBQUEyRCxPQUFBLEdBQXNCLElBQUFiLG1CQUFNLEVBQUMsSUFBQWhDLFdBQUEsQ0FBQWlDLEdBQUEsRUFBQ3hDLEtBQUEsQ0FBQTBCLE9BQUksS0FBRyxDQUFDO01BQS9CaUIsV0FBVyxHQUFBUyxPQUFBLENBQVhULFdBQVc7SUFDbEIsSUFBTVUsbUJBQW1CLFNBQVMsSUFBQUMsb0JBQU8sRUFBQztNQUFBLE9BQ3hDWCxXQUFXLENBQUMsbUJBQW1CLENBQUM7SUFBQSxFQUNqQztJQUNEQyxNQUFNLENBQUNTLG1CQUFtQixDQUFDUixLQUFLLENBQUNDLFFBQVEsQ0FBQyxDQUFDQyxJQUFJLENBQUNFLGVBQWUsQ0FBQ0UsSUFBSSxDQUFDO0VBQ3ZFLENBQUMsRUFBQztFQUNGSSxJQUFJLENBQUMsMkJBQTJCLE1BQUF4RCxrQkFBQSxDQUFBMkIsT0FBQSxFQUFFLGFBQVk7SUFDNUMsSUFBTUssWUFBWSxHQUFHO01BQ25CQyxPQUFPLEVBQUUsQ0FDUDtRQUNFQyxTQUFTLEVBQUU7TUFDYixDQUFDO0lBRUwsQ0FBQztJQUNEVixNQUFNLENBQUNDLEtBQUssR0FBR3RDLElBQUksQ0FBQ0MsRUFBRSxFQUFFLENBQUMrQyxpQkFBaUIsQ0FBQztNQUN6Q0MsSUFBSSxFQUFFLFNBQUFBLEtBQUE7UUFBQSxPQUFNUixPQUFPLENBQUNDLE9BQU8sQ0FBQ0csWUFBWSxDQUFDO01BQUE7SUFDM0MsQ0FBQyxDQUFDO0lBRUYsSUFBQXlCLFFBQUEsR0FBc0IsSUFBQWpCLG1CQUFNLEVBQUMsSUFBQWhDLFdBQUEsQ0FBQWlDLEdBQUEsRUFBQ3hDLEtBQUEsQ0FBQTBCLE9BQUksS0FBRyxDQUFDO01BQS9CaUIsV0FBVyxHQUFBYSxRQUFBLENBQVhiLFdBQVc7SUFFbEIsTUFBTSxJQUFBVyxvQkFBTyxFQUFDLFlBQU07TUFDbEIsSUFBTUcsbUJBQW1CLEdBQUdkLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztNQUM1REMsTUFBTSxDQUFDYSxtQkFBbUIsQ0FBQ1osS0FBSyxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsSUFBSSxDQUM3QywwQkFBMEIsQ0FDM0I7SUFDSCxDQUFDLENBQUM7RUFDSixDQUFDLEVBQUM7RUFDRlQsRUFBRSxDQUFDLDJDQUEyQyxNQUFBdkMsa0JBQUEsQ0FBQTJCLE9BQUEsRUFBRSxhQUFZO0lBQzFELElBQU11QixlQUFlLEdBQUc7TUFDdEJDLE9BQU8sRUFBRSwwQkFBMEI7TUFDbkNDLElBQUksRUFBRTFDLFNBQVM7TUFDZmpCLFFBQVEsRUFBUkEsUUFBUTtNQUNSQyxTQUFTLEVBQVRBO0lBQ0YsQ0FBQztJQUNELElBQUFpRSxRQUFBLEdBQXNCLElBQUFuQixtQkFBTSxFQUFDLElBQUFoQyxXQUFBLENBQUFpQyxHQUFBLEVBQUN4QyxLQUFBLENBQUEwQixPQUFJLEtBQUcsQ0FBQztNQUEvQmlCLFdBQVcsR0FBQWUsUUFBQSxDQUFYZixXQUFXO0lBQ2xCLElBQU1nQixtQkFBbUIsU0FBUyxJQUFBTCxvQkFBTyxFQUFDO01BQUEsT0FDeENYLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQztJQUFBLEVBQ2pDO0lBQ0RpQixzQkFBUyxDQUFDQyxLQUFLLENBQUNGLG1CQUFtQixDQUFDO0lBQ3BDZixNQUFNLENBQUMxQixVQUFVLENBQUN0QixRQUFRLENBQUMsQ0FBQ2tFLG9CQUFvQixDQUFDLEtBQUssRUFBRTtNQUN0RFosT0FBTyxFQUFFRDtJQUNYLENBQUMsQ0FBQztFQUNKLENBQUMsRUFBQztFQUNGWCxFQUFFLENBQUMsc0NBQXNDLE1BQUF2QyxrQkFBQSxDQUFBMkIsT0FBQSxFQUFFLGFBQVk7SUFDckQsSUFBTXFDLGlCQUFpQixHQUFHN0UsSUFBSSxDQUFDQyxFQUFFLEVBQUU7SUFDbkMsSUFBQTZFLFFBQUEsR0FBc0IsSUFBQXpCLG1CQUFNLEVBQzFCLElBQUFoQyxXQUFBLENBQUFpQyxHQUFBLEVBQUNsQyxhQUFBLENBQUEyRCxNQUFNO1FBQ0xDLEtBQUssRUFBQyxxQkFBcUI7UUFDM0JDLE9BQU8sRUFBRUosaUJBQWtCO1FBQzNCSyxNQUFNLEVBQUM7TUFBdUIsRUFDOUIsQ0FDSDtNQU5NekIsV0FBVyxHQUFBcUIsUUFBQSxDQUFYckIsV0FBVztJQU9sQixJQUFNMEIsY0FBYyxTQUFTLElBQUFmLG9CQUFPLEVBQUM7TUFBQSxPQUNuQ1gsV0FBVyxDQUFDLHVCQUF1QixDQUFDO0lBQUEsRUFDckM7SUFDRGlCLHNCQUFTLENBQUNDLEtBQUssQ0FBQ1EsY0FBYyxDQUFDO0lBQy9CekIsTUFBTSxDQUFDbUIsaUJBQWlCLENBQUMsQ0FBQ2YsZ0JBQWdCLEVBQUU7RUFDOUMsQ0FBQyxFQUFDO0VBQ0ZWLEVBQUUsQ0FBQyx1REFBdUQsTUFBQXZDLGtCQUFBLENBQUEyQixPQUFBLEVBQUUsYUFBWTtJQUN0RSxJQUFBNEMsUUFBQSxHQUFxQyxJQUFBL0IsbUJBQU0sRUFBQyxJQUFBaEMsV0FBQSxDQUFBaUMsR0FBQSxFQUFDeEMsS0FBQSxDQUFBMEIsT0FBSSxLQUFHLENBQUM7TUFBOUM2QyxhQUFhLEdBQUFELFFBQUEsQ0FBYkMsYUFBYTtNQUFFNUIsV0FBVyxHQUFBMkIsUUFBQSxDQUFYM0IsV0FBVztJQUNqQyxJQUFNNkIsUUFBUSxHQUFHO01BQ2Z0QixPQUFPLEVBQUUsMEJBQTBCO01BQ25DQyxJQUFJLEVBQUUxQyxTQUFTO01BQ2ZqQixRQUFRLEVBQVJBLFFBQVE7TUFDUkMsU0FBUyxFQUFUQTtJQUNGLENBQUM7SUFDRCxJQUFNZ0YsYUFBYSxHQUFHLENBQUNELFFBQVEsRUFBRUEsUUFBUSxFQUFFQSxRQUFRLENBQUM7SUFDcEQsTUFBTSxJQUFBbEIsb0JBQU8sRUFBQyxZQUFNO01BQ2xCbUIsYUFBYSxDQUFDQyxPQUFPLENBQUMsVUFBQ3BGLFFBQVEsRUFBRXFGLEtBQUssRUFBSztRQUN6Qy9CLE1BQU0sQ0FBQ0QsV0FBVyx5QkFBdUJnQyxLQUFLLENBQUcsQ0FBQzlCLEtBQUssQ0FBQ0MsUUFBUSxDQUFDLENBQUNDLElBQUksQ0FDcEV6RCxRQUFRLENBQUM0RCxPQUFPLENBQ2pCO01BQ0gsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQyxDQUFDIn0=