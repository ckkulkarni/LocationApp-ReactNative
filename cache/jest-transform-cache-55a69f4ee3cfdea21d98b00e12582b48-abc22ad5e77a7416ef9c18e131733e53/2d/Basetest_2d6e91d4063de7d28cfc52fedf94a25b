36d078b47d429ef24b1974f16be1443c
_getJestObj().mock('react-redux', function () {
  return {
    useDispatch: jest.fn()
  };
});
_getJestObj().mock('react-native-geolocation-service', function () {
  return {
    getCurrentPosition: jest.fn(function (success) {
      var location = {
        coords: {
          latitude: 17.3920466,
          longitude: 78.4758037
        }
      };
      success(location);
    })
  };
});
_getJestObj().mock('@react-navigation/native', function () {
  return {
    useNavigation: jest.fn().mockReturnValue({
      navigate: jest.fn()
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _Base = _interopRequireDefault(require("../Base"));
var _reactNative = require("@testing-library/react-native");
var _react = _interopRequireDefault(require("react"));
var _reactNativeGeolocationService = _interopRequireDefault(require("react-native-geolocation-service"));
var _reactRedux = require("react-redux");
var _native = require("@react-navigation/native");
require("@testing-library/jest-dom");
var _reactNative2 = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var timestamp = new Date(Date.now()).toLocaleString([], {
  year: 'numeric',
  month: 'numeric',
  day: 'numeric',
  hour: '2-digit',
  minute: '2-digit'
});
var navigation = (0, _native.useNavigation)();
describe('Locations List Screen/Base Component', function () {
  var latitude;
  var longitude;
  var mockDispatch = jest.fn();
  var useDispatchMock;
  var fetchMock = jest.fn();
  global.fetch = fetchMock;
  beforeAll((0, _asyncToGenerator2.default)(function* () {
    yield new Promise(function (resolve) {
      _reactNativeGeolocationService.default.getCurrentPosition(function (position) {
        latitude = position.coords.latitude;
        longitude = position.coords.longitude;
        resolve();
      });
    });
  }));
  var mockResponse = {
    results: [{
      formatted: '123 Main St, Anytown USA'
    }]
  };
  global.fetch = jest.fn().mockResolvedValue({
    json: function json() {
      return Promise.resolve(mockResponse);
    }
  });
  beforeEach(function () {
    fetchMock.mockReset();
    useDispatchMock = _reactRedux.useDispatch;
    useDispatchMock.mockReturnValue(mockDispatch);
  });
  it('renders the base component correctly', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {}));
    var currentLabel = _reactNative.screen.getByTestId('list-current-label');
    expect(currentLabel.props.children).toBe('Current Location');
  });
  it('should have the right location', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {}));
    expect(_reactNativeGeolocationService.default.getCurrentPosition).toHaveBeenCalled();
  });
  it('renders the current location time', (0, _asyncToGenerator2.default)(function* () {
    var currentLocation = {
      address: 'unnamed road',
      time: timestamp,
      latitude: 42.123456,
      longitude: -71.123456
    };
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render.getByTestId;
    var currentLocationTime = yield (0, _reactNative.waitFor)(function () {
      return getByTestId('list-current-time');
    });
    expect(currentLocationTime.props.children).toBe(currentLocation.time);
  }));
  test('displays current location', (0, _asyncToGenerator2.default)(function* () {
    var mockResponse = {
      results: [{
        formatted: '123 Main St, Anytown USA'
      }]
    };
    global.fetch = jest.fn().mockResolvedValue({
      json: function json() {
        return Promise.resolve(mockResponse);
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render2.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      var currentLocationName = getByTestId('list-current-name');
      expect(currentLocationName.props.children).toBe('123 Main St, Anytown USA');
    });
  }));
  it('renders the whole location item correctly', (0, _asyncToGenerator2.default)(function* () {
    var currentLocation = {
      address: '123 Main St, Anytown USA',
      time: timestamp,
      latitude: latitude,
      longitude: longitude
    };
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render3.getByTestId;
    var currentLocationItem = yield (0, _reactNative.waitFor)(function () {
      return getByTestId('list-current-item');
    });
    _reactNative.fireEvent.press(currentLocationItem);
    expect(navigation.navigate).toHaveBeenCalledWith('Map', {
      address: currentLocation
    });
  }));
  it('clears all locations on button press', (0, _asyncToGenerator2.default)(function* () {
    var clearAllLocations = jest.fn();
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_reactNative2.Button, {
        title: "Clear All Locations",
        onPress: clearAllLocations,
        testID: "list-clear-all-button"
      })),
      getByTestId = _render4.getByTestId;
    var clearAllButton = yield (0, _reactNative.waitFor)(function () {
      return getByTestId('list-clear-all-button');
    });
    _reactNative.fireEvent.press(clearAllButton);
    expect(clearAllLocations).toHaveBeenCalled();
  }));
  it('should display previous location name after 5 minutes', (0, _asyncToGenerator2.default)(function* () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Base.default, {})),
      getByTestId = _render5.getByTestId;
    var Location = {
      address: '123 Main St, Anytown USA',
      time: timestamp,
      latitude: latitude,
      longitude: longitude
    };
    var locationsList = [Location, Location, Location];
    yield (0, _reactNative.waitFor)(function () {
      locationsList.forEach(function (location, index) {
        expect(getByTestId("list-previous-name-" + index).props.children).toBe(location.address);
      });
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VEaXNwYXRjaCIsImplc3QiLCJmbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInN1Y2Nlc3MiLCJsb2NhdGlvbiIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwidXNlTmF2aWdhdGlvbiIsIm1vY2tSZXR1cm5WYWx1ZSIsIm5hdmlnYXRlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfQmFzZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZUdlb2xvY2F0aW9uU2VydmljZSIsIl9yZWFjdFJlZHV4IiwiX25hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInRvTG9jYWxlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsIm5hdmlnYXRpb24iLCJkZXNjcmliZSIsIm1vY2tEaXNwYXRjaCIsInVzZURpc3BhdGNoTW9jayIsImZldGNoTW9jayIsImdsb2JhbCIsImZldGNoIiwiYmVmb3JlQWxsIiwiZGVmYXVsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiR2VvbG9jYXRpb24iLCJwb3NpdGlvbiIsIm1vY2tSZXNwb25zZSIsInJlc3VsdHMiLCJmb3JtYXR0ZWQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImpzb24iLCJiZWZvcmVFYWNoIiwibW9ja1Jlc2V0IiwiaXQiLCJyZW5kZXIiLCJqc3giLCJjdXJyZW50TGFiZWwiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsImV4cGVjdCIsInByb3BzIiwiY2hpbGRyZW4iLCJ0b0JlIiwidG9IYXZlQmVlbkNhbGxlZCIsImN1cnJlbnRMb2NhdGlvbiIsImFkZHJlc3MiLCJ0aW1lIiwiX3JlbmRlciIsImN1cnJlbnRMb2NhdGlvblRpbWUiLCJ3YWl0Rm9yIiwidGVzdCIsIl9yZW5kZXIyIiwiY3VycmVudExvY2F0aW9uTmFtZSIsIl9yZW5kZXIzIiwiY3VycmVudExvY2F0aW9uSXRlbSIsImZpcmVFdmVudCIsInByZXNzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJjbGVhckFsbExvY2F0aW9ucyIsIl9yZW5kZXI0IiwiQnV0dG9uIiwidGl0bGUiLCJvblByZXNzIiwidGVzdElEIiwiY2xlYXJBbGxCdXR0b24iLCJfcmVuZGVyNSIsIkxvY2F0aW9uIiwibG9jYXRpb25zTGlzdCIsImZvckVhY2giLCJpbmRleCJdLCJzb3VyY2VzIjpbIkJhc2UudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2UgZnJvbSAnLi4vQmFzZSc7XHJcbmltcG9ydCB7XHJcbiAgcmVuZGVyLFxyXG4gIGZpcmVFdmVudCxcclxuICBzY3JlZW4sXHJcbiAgd2FpdEZvcixcclxufSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBmZXRjaE1vY2sgZnJvbSAnamVzdC1mZXRjaC1tb2NrJztcclxuaW1wb3J0IEdlb2xvY2F0aW9uIGZyb20gJ3JlYWN0LW5hdGl2ZS1nZW9sb2NhdGlvbi1zZXJ2aWNlJztcclxuaW1wb3J0IHt1c2VEaXNwYXRjaH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQge05hdGl2ZVN0YWNrTmF2aWdhdGlvblByb3B9IGZyb20gJ0ByZWFjdC1uYXZpZ2F0aW9uL25hdGl2ZS1zdGFjayc7XHJcbmltcG9ydCB7dXNlTmF2aWdhdGlvbn0gZnJvbSAnQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlJztcclxuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJztcclxuaW1wb3J0IHtCdXR0b259IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XHJcbmRlY2xhcmUgdmFyIGdsb2JhbDogYW55O1xyXG5qZXN0Lm1vY2soJ3JlYWN0LXJlZHV4JywgKCkgPT4gKHtcclxuICB1c2VEaXNwYXRjaDogamVzdC5mbigpLFxyXG59KSk7XHJcbmNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKERhdGUubm93KCkpLnRvTG9jYWxlU3RyaW5nKFtdLCB7XHJcbiAgeWVhcjogJ251bWVyaWMnLFxyXG4gIG1vbnRoOiAnbnVtZXJpYycsXHJcbiAgZGF5OiAnbnVtZXJpYycsXHJcbiAgaG91cjogJzItZGlnaXQnLFxyXG4gIG1pbnV0ZTogJzItZGlnaXQnLFxyXG59KTtcclxuY29uc3QgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb248TmF0aXZlU3RhY2tOYXZpZ2F0aW9uUHJvcDxhbnk+PigpO1xyXG5qZXN0Lm1vY2soJ3JlYWN0LW5hdGl2ZS1nZW9sb2NhdGlvbi1zZXJ2aWNlJywgKCkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBnZXRDdXJyZW50UG9zaXRpb246IGplc3QuZm4oc3VjY2VzcyA9PiB7XHJcbiAgICAgIGNvbnN0IGxvY2F0aW9uID0ge1xyXG4gICAgICAgIGNvb3Jkczoge1xyXG4gICAgICAgICAgbGF0aXR1ZGU6IDE3LjM5MjA0NjYsXHJcbiAgICAgICAgICBsb25naXR1ZGU6IDc4LjQ3NTgwMzcsXHJcbiAgICAgICAgfSxcclxuICAgICAgfTtcclxuICAgICAgc3VjY2Vzcyhsb2NhdGlvbik7XHJcbiAgICB9KSxcclxuICB9O1xyXG59KTtcclxuamVzdC5tb2NrKCdAcmVhY3QtbmF2aWdhdGlvbi9uYXRpdmUnLCAoKSA9PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHVzZU5hdmlnYXRpb246IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBuYXZpZ2F0ZTogamVzdC5mbigpLFxyXG4gICAgfSksXHJcbiAgfTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnTG9jYXRpb25zIExpc3QgU2NyZWVuL0Jhc2UgQ29tcG9uZW50JywgKCkgPT4ge1xyXG4gIGxldCBsYXRpdHVkZTogbnVtYmVyO1xyXG4gIGxldCBsb25naXR1ZGU6IG51bWJlcjtcclxuICBjb25zdCBtb2NrRGlzcGF0Y2ggPSBqZXN0LmZuKCk7XHJcbiAgbGV0IHVzZURpc3BhdGNoTW9jazogamVzdC5Nb2NrO1xyXG4gIGNvbnN0IGZldGNoTW9jayA9IGplc3QuZm4oKTtcclxuICBnbG9iYWwuZmV0Y2ggPSBmZXRjaE1vY2s7XHJcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IG5ldyBQcm9taXNlPHZvaWQ+KHJlc29sdmUgPT4ge1xyXG4gICAgICBHZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ocG9zaXRpb24gPT4ge1xyXG4gICAgICAgIGxhdGl0dWRlID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xyXG4gICAgICAgIGxvbmdpdHVkZSA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcclxuICAgIHJlc3VsdHM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGZvcm1hdHRlZDogJzEyMyBNYWluIFN0LCBBbnl0b3duIFVTQScsXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gIH07XHJcbiAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrUmVzcG9uc2UpLFxyXG4gIH0pO1xyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgZmV0Y2hNb2NrLm1vY2tSZXNldCgpO1xyXG4gICAgdXNlRGlzcGF0Y2hNb2NrID0gdXNlRGlzcGF0Y2ggYXMgamVzdC5Nb2NrO1xyXG4gICAgdXNlRGlzcGF0Y2hNb2NrLm1vY2tSZXR1cm5WYWx1ZShtb2NrRGlzcGF0Y2gpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgncmVuZGVycyB0aGUgYmFzZSBjb21wb25lbnQgY29ycmVjdGx5JywgKCkgPT4ge1xyXG4gICAgcmVuZGVyKDxCYXNlIC8+KTtcclxuICAgIGNvbnN0IGN1cnJlbnRMYWJlbCA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnbGlzdC1jdXJyZW50LWxhYmVsJyk7XHJcbiAgICBleHBlY3QoY3VycmVudExhYmVsLnByb3BzLmNoaWxkcmVuKS50b0JlKCdDdXJyZW50IExvY2F0aW9uJyk7XHJcbiAgfSk7XHJcbiAgaXQoJ3Nob3VsZCBoYXZlIHRoZSByaWdodCBsb2NhdGlvbicsICgpID0+IHtcclxuICAgIHJlbmRlcig8QmFzZSAvPik7XHJcbiAgICBleHBlY3QoR2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgfSk7XHJcbiAgaXQoJ3JlbmRlcnMgdGhlIGN1cnJlbnQgbG9jYXRpb24gdGltZScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHtcclxuICAgICAgYWRkcmVzczogJ3VubmFtZWQgcm9hZCcsXHJcbiAgICAgIHRpbWU6IHRpbWVzdGFtcCxcclxuICAgICAgbGF0aXR1ZGU6IDQyLjEyMzQ1NixcclxuICAgICAgbG9uZ2l0dWRlOiAtNzEuMTIzNDU2LFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHtnZXRCeVRlc3RJZH0gPSByZW5kZXIoPEJhc2UgLz4pO1xyXG4gICAgY29uc3QgY3VycmVudExvY2F0aW9uVGltZSA9IGF3YWl0IHdhaXRGb3IoKCkgPT5cclxuICAgICAgZ2V0QnlUZXN0SWQoJ2xpc3QtY3VycmVudC10aW1lJyksXHJcbiAgICApO1xyXG4gICAgZXhwZWN0KGN1cnJlbnRMb2NhdGlvblRpbWUucHJvcHMuY2hpbGRyZW4pLnRvQmUoY3VycmVudExvY2F0aW9uLnRpbWUpO1xyXG4gIH0pO1xyXG4gIHRlc3QoJ2Rpc3BsYXlzIGN1cnJlbnQgbG9jYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XHJcbiAgICAgIHJlc3VsdHM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBmb3JtYXR0ZWQ6ICcxMjMgTWFpbiBTdCwgQW55dG93biBVU0EnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG4gICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcclxuICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG1vY2tSZXNwb25zZSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWR9ID0gcmVuZGVyKDxCYXNlIC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgY29uc3QgY3VycmVudExvY2F0aW9uTmFtZSA9IGdldEJ5VGVzdElkKCdsaXN0LWN1cnJlbnQtbmFtZScpO1xyXG4gICAgICBleHBlY3QoY3VycmVudExvY2F0aW9uTmFtZS5wcm9wcy5jaGlsZHJlbikudG9CZShcclxuICAgICAgICAnMTIzIE1haW4gU3QsIEFueXRvd24gVVNBJyxcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGl0KCdyZW5kZXJzIHRoZSB3aG9sZSBsb2NhdGlvbiBpdGVtIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHtcclxuICAgICAgYWRkcmVzczogJzEyMyBNYWluIFN0LCBBbnl0b3duIFVTQScsXHJcbiAgICAgIHRpbWU6IHRpbWVzdGFtcCxcclxuICAgICAgbGF0aXR1ZGUsXHJcbiAgICAgIGxvbmdpdHVkZSxcclxuICAgIH07XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWR9ID0gcmVuZGVyKDxCYXNlIC8+KTtcclxuICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbkl0ZW0gPSBhd2FpdCB3YWl0Rm9yKCgpID0+XHJcbiAgICAgIGdldEJ5VGVzdElkKCdsaXN0LWN1cnJlbnQtaXRlbScpLFxyXG4gICAgKTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhjdXJyZW50TG9jYXRpb25JdGVtKTtcclxuICAgIGV4cGVjdChuYXZpZ2F0aW9uLm5hdmlnYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnTWFwJywge1xyXG4gICAgICBhZGRyZXNzOiBjdXJyZW50TG9jYXRpb24sXHJcbiAgICB9KTtcclxuICB9KTtcclxuICBpdCgnY2xlYXJzIGFsbCBsb2NhdGlvbnMgb24gYnV0dG9uIHByZXNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgY2xlYXJBbGxMb2NhdGlvbnMgPSBqZXN0LmZuKCk7XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWR9ID0gcmVuZGVyKFxyXG4gICAgICA8QnV0dG9uXHJcbiAgICAgICAgdGl0bGU9XCJDbGVhciBBbGwgTG9jYXRpb25zXCJcclxuICAgICAgICBvblByZXNzPXtjbGVhckFsbExvY2F0aW9uc31cclxuICAgICAgICB0ZXN0SUQ9XCJsaXN0LWNsZWFyLWFsbC1idXR0b25cIlxyXG4gICAgICAvPixcclxuICAgICk7XHJcbiAgICBjb25zdCBjbGVhckFsbEJ1dHRvbiA9IGF3YWl0IHdhaXRGb3IoKCkgPT5cclxuICAgICAgZ2V0QnlUZXN0SWQoJ2xpc3QtY2xlYXItYWxsLWJ1dHRvbicpLFxyXG4gICAgKTtcclxuICAgIGZpcmVFdmVudC5wcmVzcyhjbGVhckFsbEJ1dHRvbik7XHJcbiAgICBleHBlY3QoY2xlYXJBbGxMb2NhdGlvbnMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICB9KTtcclxuICBpdCgnc2hvdWxkIGRpc3BsYXkgcHJldmlvdXMgbG9jYXRpb24gbmFtZSBhZnRlciA1IG1pbnV0ZXMnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCB7Z2V0QnlUZXN0SWR9ID0gcmVuZGVyKDxCYXNlIC8+KTtcclxuICAgIGNvbnN0IExvY2F0aW9uID0ge1xyXG4gICAgICBhZGRyZXNzOiAnMTIzIE1haW4gU3QsIEFueXRvd24gVVNBJyxcclxuICAgICAgdGltZTogdGltZXN0YW1wLFxyXG4gICAgICBsYXRpdHVkZSxcclxuICAgICAgbG9uZ2l0dWRlLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGxvY2F0aW9uc0xpc3QgPSBbTG9jYXRpb24sIExvY2F0aW9uLCBMb2NhdGlvbl07XHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgbG9jYXRpb25zTGlzdC5mb3JFYWNoKChsb2NhdGlvbiwgaW5kZXgpID0+IHtcclxuICAgICAgICBleHBlY3QoZ2V0QnlUZXN0SWQoYGxpc3QtcHJldmlvdXMtbmFtZS0ke2luZGV4fWApLnByb3BzLmNoaWxkcmVuKS50b0JlKFxyXG4gICAgICAgICAgbG9jYXRpb24uYWRkcmVzcyxcclxuICAgICAgICApO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFnQkFBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRTtFQUFBLE9BQU87SUFDOUJDLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxFQUFFO0VBQ3RCLENBQUM7QUFBQSxDQUFDLENBQUM7QUFTSEosV0FBQSxHQUFLQyxJQUFJLENBQUMsa0NBQWtDLEVBQUUsWUFBTTtFQUNsRCxPQUFPO0lBQ0xJLGtCQUFrQixFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxVQUFBRSxPQUFPLEVBQUk7TUFDckMsSUFBTUMsUUFBUSxHQUFHO1FBQ2ZDLE1BQU0sRUFBRTtVQUNOQyxRQUFRLEVBQUUsVUFBVTtVQUNwQkMsU0FBUyxFQUFFO1FBQ2I7TUFDRixDQUFDO01BQ0RKLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDO0lBQ25CLENBQUM7RUFDSCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBQ0ZQLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDBCQUEwQixFQUFFLFlBQU07RUFDMUMsT0FBTztJQUNMVSxhQUFhLEVBQUVSLElBQUksQ0FBQ0MsRUFBRSxFQUFFLENBQUNRLGVBQWUsQ0FBQztNQUN2Q0MsUUFBUSxFQUFFVixJQUFJLENBQUNDLEVBQUU7SUFDbkIsQ0FBQztFQUNILENBQUM7QUFDSCxDQUFDLENBQUM7QUFBQyxJQUFBVSxzQkFBQSxH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